<!doctype html>

<html>

    <head>
        <meta charset="utf-8">
        <title>BitsXlaMarato_Project_2020</title>
        <meta name="description" content="The HTML5 test">
        <meta name="author" content="test">
        <link rel="stylesheet" href="ThemesStyles.css">
    </head>

    <body class="light">

        <header>
            <section class="container">
                <p>Sunday, December 20th 2020</p>
            </section>
        </header>

        <main>
            <div class="container">
                <div class="aside left">
                    <ul class="side-menu">
                        <li class="side-menu-title">
                            <i>Analysing possible COVID-19 symptoms:</i>
                        </li>
                        <li>
                            <a href="symptoms.html">main.py</a>
                        </li>
                        <li>
                            <a href="symptoms.html">Algorithms & Function</a>
                        </li>
                        <li>
                            <a href="symptoms.html">index_dataset.py</a>
                        </li>
                        <li>
                            <a href="symptoms.html">Algorithms & Function</a>
                        </li>
                            <li class="side-menu-title">
                                <i>Possible correlation between COVID-19 and other health conditions:</i>
                            </li>
                        <li>
                            <a href="conditions.html">Creating arrays to look for possible correlations</a>
                        </li>
                        <li>
                            <a href="symptoms.html">Writing an algorithm to look for correlations and incompatibilities</a>
                        </li>
                        <li>
                            <a href="symptoms.html">Calculating probability</a>
                        </li>
                        <!-- <li>
                            <a href="">side menu link</a>
                        </li> /-->
                    </ul>
                </div>
                <div class="content right">
                    <h1>Analysing possible COVID-19 symptoms</h1>
                    <h2>main.py</h2>
                    <h3>Purpose</h3>
                    <p>This file aims to find a relation between given symptoms of a patient and the disease SARS-CoV-2.
                         In order to achieve so, a study of the .csv dataset has been performed. 
                         Finally, the file exports a .txt containing a list of probabilities of having COVID-19 through
                          the combination of two or more symptoms. The file is also capable to perform the study differencing
                           among gender, and it has been prepared to work with different datasets and conditions by making hardly any changes.</p>
                    <h3>Dependencies</h3>
                    <p>As this file's main purpose is that of analysing and plotting the provided data,
                         some external libraries need to be called, these are matplotlib and numpy.
                         Additionally, the dataset has to be placed under the directory Files/ with the name 
                         COPEDICATClinicSympt_DATA_2020-12-17_1642.csv, or at least change the path on the file itself.
                    </p>
                    <h3>Execution</h3>
                    <p>In order to execute this file on a Linux machine command-line, the following command has to be written: python3 main.py
                    </p>
                    <h2>Algorithms & Functions</h2>
                    <h3>check_for_symptoms(patients, symptoms, plot, sex, status)</h3>
                    <p>This function aims to look the amount of patients that present a symptom. It makes use of five different variables, being patients for an array containing the .csv lines of every patient to consider, symptoms stands for the list of symptoms separated through a comma, plot is a boolean which says whether to make a plot with the data or not, sex a boolean that tells the function to consider the patients based on their gender or not and status a variable to indicate a differential trait of the group of patients considering.

                        When this function is called, the values for every symptom would be returned shaped in a two-dimensional array, alongside with a representative pie chart.</p>
                    <h3>compare (ppd, npd, plot, min_difference, sex)</h3>
                    <p>In this function takes the data generated by check_for_symptoms, and generates a stack bar chart in which all the collected data is plotted alongside with another set to compare the results (ppd vs npd). Additionally, another plot is generated in where the deviation of the symptoms is evidenced, this is later used in order to establish relations among the symptoms.

                        The user can establish whether he wants a plot or just the calculations. Moreover, he can also define the minimum deviation the data has to present in order to consider it 'weighted' (values outside the plotted horizontal lines of the stem plot). As in the former function, gender distinction is supported.
                        
                        This file returns an array in where all the 'weighted' symptoms are listed, and also the side they tend to.</p>
                    <h3>generate_possible_combinations (conditions)</h3>
                    <p>This function is called immediately after the compare one so that the 'weighted' values are passed as the only parameter. It works by generating all the possible combinations among the 'weighted' symptoms that tend to the same side. These combinations are later returned.</p>
                    <h3>check_for_multiple_symptoms (patients_positive, patients_negative, symptoms_raw, plot, gender)</h3>
                    <p>This function is very similar to check_for_symptoms, even though in this case it is required that the patient experiments all the conditions specified simultaneously. The percentage of patients that present them is returned, and is the data used to finally calculate the probability of being diagnosed with SARS-CoV-2.

                        While the function is being executed, pie charts are generated in pairs in order to compare between the positive and the negative patients.</p>
                    <h3>Probability calculation</h3>
                    <p>The probability of having the virus is calculated through iteration among all the genders and all the combinations, and after some straightforward calculations, a value can be obtained being it the probability. These are later written into a .txt</p>
                    <h3>Patient & symptoms classification</h3>
                    <p>In order to classify the patients and the symptoms, a large variable and a set of if methods check among the .csv dataset to retrieve the fields that may be of interest for the study.</p>

                    <h2>index_dataset.py</h2>
                    <h3>Purpose</h3>
                    <p>
                        The aim of this file is to retrieve the index of a given category on the .csv dataset. This was necessary as the dictionary provided did not match the dataset after a certain column. It is coded in Python3 and its algorithm is simple.
                    </p>
                    <h3>Dependencies</h3>
                    <p>
                        This file does not have any dependencies, even though the dataset must be named Files/COPEDICATClinicSympt_DATA_2020-12-17_1642.csv.
                    </p>
                    <h3>Execution</h3>
                    <p>
                        On a Linux machine this file can be executed through the command-line by doing python3 index_dataset.py.
                        The output of this file is a print which contains a number being this the index of the dataset.
                    </p>
                    <h2>Algorithms & Functions</h2>
                    <p>
                        There is one unique algorithm in this file whose functioning is all but complex. The script loads the first line found at the .csv dataset, and a list is defined with the values resultant of the line split (after every comma). Finally, it retrieves the index of the category given by the user and prints it.
                    </p>
                    <h3>Exceptions</h3>
                    <p>
                        The file may not behave properly when the category specified by the user is not found within the lines of the dataset.
                    </p>
                </div>
            </div>
        </main>

        <footer>
            <section class="container">
                <p class="left">
                    Co-authors: Miguel Sanchez <a href="https://github.com/MiguelSanchezP">(MiguelSanchezP)</a>,
                     Asia Sukhorukova <a href="https://github.com/AsiaSukh8">(AsiaSukh8)</a>  
                </p>
                <p>Find this project on <a href="https://github.com/MiguelSanchezP/Bitsxlamarato2020">GitHub</a> </p>
            </section>
        </footer>

        <script
        src="https://code.jquery.com/jquery-3.5.1.min.js"
        integrity="sha256-9/aliU8dGd2tb6OSsuzixeV4y/faTqgFtohetphbbj0="
        crossorigin="anonymous"></script>
       <script src="bitsProject.js"></script>

    </body>

</html>